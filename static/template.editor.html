<!doctype html>
<html>
<head>
    <title>%TITLE%</title>
    <link href="/static/style.css" rel="stylesheet" type="text/css" />
    <script>
        var ajax = new XMLHttpRequest();
        
        ajax.onreadystatechange = function () {
            if (ajax.readyState === 4 && ajax.status === 200) {
                document.getElementById("preview").innerHTML = ajax.responseText;
            }
        }

        function textAreaAdjust(o) {
            o.style.height = "1px";
            o.style.height = (25 + o.scrollHeight) + "px";
        }
        function update() {
            ajax.open("POST", "/render");
            ajax.send(document.getElementById("editor").innerText);
        }
    </script>
</head>
<body onload="textAreaAdjust(document.getElementById('editor')); update();">
    <div id="topmount">
        <header>
            <h1>%TITLE%</h1>
            %META%
        </header>
    </div>
    <div id="body">
        <div class="editorCol">
            <form class="editorColPad" method="post">
                <textarea required
                          id="editor"
                          name="text"
                          oninput="textAreaAdjust(this); update();">%CONTENT%</textarea>
                <button type="submit">Save</button>
            </form>
        </div>
        <div class="editorCol">
            <div id="preview" class="editorColPad"></div>
        </div>
    </div>
</body>
</html>
